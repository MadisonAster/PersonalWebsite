<!DOCTYPE html>
<html>
<head>
    <title>Thomas McVay</title>
    <meta property='og:site_name' content='Thomas McVay' />
    <meta property='og:title' content='Thomas McVay' />
    <meta property='og:description' content='Thomas McVay is an artist/engineer' />
    <meta property='og:url' content='http://www.thomas-mcvay.info' />
    <META HTTP-EQUIV='CACHE-CONTROL' CONTENT='NO-CACHE'>
    <META HTTP-EQUIV='PRAGMA' CONTENT='NO-CACHE'>
    <META HTTP-EQUIV='EXPIRES' CONTENT='0'>

    <script src='./_js/MultiUse.js'></script>
    <script src='./_js/jquery-1.11.3.min.js'></script>
    <script src='./_js/jquery.shuffle.modernizr.js'></script>
    <script src='./_js/Background.js'></script>
    <script src='./_js/native.history.js'></script>
    <script src='./_js/iframeFunctions.js'></script>
    <script src='./_js/statechange.js'></script>
    <script src='./_js/sorttable.js'></script>
    <script src='./_js/onload.js'></script>
    <link rel='stylesheet' href='./_js/jstree/dist/themes/proton/style.min.css' />   
    <script src='./_js/jstree/dist/jstree.min.js'></script>
    <script src='./_js/jspdf.min.js'></script>
    <script src='./_js/jspdf.plugin.autotable.js'></script>
    <script src='./_js/html2canvas.js'></script>
    <script>
    function loadPage(href)
    {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.open("GET", href, false);
        xmlhttp.send();
        return xmlhttp.responseText;
    }
    function demoFromHTML() {
    var pdf = new jsPDF('p', 'pt', 'letter');
    //source = $('#ResumeTemplate').innerHTML;
    //source = $('#ResumeTemplate')[0];
    //source = document.getElementById('ResumeTemplate');
    
    href = window.location.href+'/ResumeTemplate.html';
    alert(href);
    source = loadPage(href);
    alert(source);
    /*
    html2canvas(source, {
        onrendered: function(canvas) {
        alert(canvas);
        }
    });
    */
    specialElementHandlers = {
        // element with id of "bypass" - jQuery style selector
        '#bypassme': function (element, renderer) {
            // true = "handled elsewhere, bypass text extraction"
            return true
        }
    };
    margins = {
        top: 80,
        bottom: 60,
        left: 40,
        width: 522
    };
    
    /*
    // all coords and widths are in jsPDF instance's declared units
    // 'inches' in this case
    pdf.fromHTML(
    source, // HTML string or DOM elem ref.
    margins.left, // x coord
    margins.top, { // y coord
        'width': margins.width, // max width of content on PDF
        'elementHandlers': specialElementHandlers
    }, function (dispose) {
        // dispose: object with X, Y of the last line add to the PDF 
        //          this allow the insertion of new lines after html
        pdf.save('Test.pdf');
    }, margins);*/
    
    
    
    var columns = [
    {title: "ID", dataKey: "id"},
    {title: "Name", dataKey: "name"}, 
    {title: "Country", dataKey: "country"}, 
    ];
    var rows = [
    {"id": 1, "name": "Shaw", "country": "Tanzania"},
    {"id": 2, "name": "Nelson", "country": "Kazakhstan"},
    {"id": 3, "name": "Garcia", "country": "Madagascar"},
    ];
    
    
    pdf.autoTable(columns, rows, {
    styles: {fillColor: [100, 255, 255]},
    columnStyles: {
    	id: {fillColor: 255}
    },
    margin: {top: 60},
    addPageContent: function(data) {
    	pdf.text("Header", 40, 30);
    }
    });
    
    pdf.save('Test.pdf');

    
    }
    </script>
    <!--<script>
    window.onload = function(){
        backgroundOnload();
        //sorttable.init();
        menuArray = document.getElementById('Menu').childNodes;
        for(var i=0;i<menuArray.length;i++){
            if(menuArray[i].id != null){
                page = menuArray[i].id.split('_')[1];
                if(window[page+'_onload'] != null){
                    onloadPtr = window[page+'_onload'];
                    onloadPtr();
                };
            };
        };
    };
    </script>-->
    
    <link rel='stylesheet' type='text/css' href='./_css/MainStyle.css' />     
</head>
<body>
    <div id='BackgroundContainer'>
    {background}
    </div>
    
    <div id='ContentContainer'>
    {content}
    <div id='FooterContainer'>
    {footer}
    </div>
    </div>
    
    <div id='MenuContainer'>
    {menu}
    </div>
</body>
<script src='./_js/redirects.js'></script>
</html>
